# Скетч для ATTiny, который реализует функционал переключателя по двойному хлопку

К ATTiny подключается микрофонный модуль с цифровым выходом. Для разных МК используется разные выводы для подключения (в зависимости от того на каком выводе есть аппаратное прерывание INT0): PB1 - для ATTiny13 и PB2 для ATTiny85.
 
Вывод PB3 подключается к реле (srs-05vdc-sl).

Основную часть времени МК находится в режиме сна. При первом же хлопке (или другом громком шуме) микрофонный модуль будит МК по аппаратному прерыванию. Если второй хлопок произошел в течение заданного таймаута, то МК переключит состояние вывода, подключенного к реле.

Если в течение заданного таймаута бездействия ничего не происходит - МК переходит в режим сна.

# Схема электрическая принципиальная

<img width="300" src="https://github.com/asilichenko/clap-switch/blob/main/img/scheme.jpg"/>

# Схема распайки компонентов на плате

<img width="300" src="https://github.com/asilichenko/clap-switch/blob/main/img/pcb.jpg"/>

# Пример функционирования готового устройства

[![Выключатель по хлопку на ATiny](http://img.youtube.com/vi/AOuvBQHyRcY/0.jpg)](http://www.youtube.com/watch?v=AOuvBQHyRcY "Выключатель по хлопку на ATiny")
